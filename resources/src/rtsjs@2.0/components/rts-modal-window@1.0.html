<rts-modal-window>
  <window-decorator ref="window" showbuttons={false}>
    <yield to="title">
      <span class="btn-custom" role="button"><img src="./images/app/app.png"
          style="width: 23px;height: 23px;position: relative;top: 7px;display: block;" /></span>
      <span class="label">Robust Time Series Toolbox - Disclaimer</span>
    </yield>
    <yield to="left-title">
    </yield>
    <yield to="right-title">

    </yield>
    <yield to="menu-bar">
    </yield>
    <yield to="content">
      <div class="container h-100 w-100">
        <div class="w-25 h-100">
          <span class="big-icon-container">
            <span class="mif-security mif-5x"></span>
          </span>
            <div class="modal-buttons">
                <button class="button" ref="acceptbutton">
                    <i class="ms-Icon ms-Icon--Accept icon"></i>
                    <span class="caption">Accept</span>
                </button>
                <button class="button"  ref="cancelbutton">
                    <i class="ms-Icon ms-Icon--Cancel icon"></i>
                    <span class="caption">Cancel</span>
                </button>
            </div>
        </div>
        <div class="w-75 h-100">
          <h1 class="modal-title">
            <virtual if={opts.title}>
              {opts.title}
            </virtual>
            <virtual if={!opts.title}>
              Disclaimer
            </virtual>
          </h1>
          <div class="modal-content">
            <virtual if={opts.content}>
              {opts.content}
            </virtual>
            <virtual if={!opts.content}>
              <h2>Privacy policy</h2>
              <p>This software do not collect any data.
                Once installed this toolbox do not need or use any Internet connection.
                Therefore,your files, settings, and all other personal data remain on-device
                unless you explicitly share them with a third-party app or service.
              </p>

              <h2>Data policy</h2>
              <p>This toolbox is made freely, and open-source, available.
                The authors and their organizations assume no liability
                for the use of and results obtained from this toolbox
                and, in addition, do not guarantee the safety of your data.
                Your use of the software is at your own risk.
              </p>
            </virtual>
          </div>
        </div>
      </div>
    </yield>
  </window-decorator>

  </div>

  <style>
    h1 {
      font-size: 16pt;
      font-weight: 400;
    }

    h2 {
      font-size: 14pt;
      margin-top: 15px;
    }

    .modal-content>*:nth-child(1) {
      margin-top: 0 !important;
      padding: 0 !important;
    }

    .modal-buttons {
      text-align: center;
      position: absolute;
      bottom: 0;
    }
    .modal-content {
      background-color: rgba(255, 255, 255, 0.8);
      padding: 20px;
      height: calc(90% - 40px);
      overflow: auto;
    }

    .modal-content,
    p {
      font-size: 10pt;
    }

    .big-icon-container {
      zoom: 4;
      margin: auto;
    }

    .big-icon-container [class*=mif-] {
      background: -webkit-gradient(linear, left top, left bottom, from(transparent), to(#158bc5));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .container {
      display: flex;
      max-width: 100% !important;
      padding: 20px;
    }

    button, .button{
      cursor: default;
    }
  </style>


  <script>
    /* globals opts: false */
    /* globals jQuery: false */
    /* globals FileReader: false */
    const require_ = require;

    /**************************************************************************
     * UI Helpers
     **************************************************************************/

    /**************************************************************************
     * Helpers
     **************************************************************************/

    /**************************************************************************
     * Main script
     **************************************************************************/
    const self = this;
    const config = opts;
    config.quitable = typeof config.quitable == "undefined"? true: config.quitable;
    config.onaccept = typeof config.onaccept == "undefined"? null: config.onaccept;
    config.oncancel = typeof config.oncancel == "undefined"? null: config.oncancel;
    const cancel = () => {
      console.log("cancel");
      if(config.oncancel) config.oncancel();
      if(config.quitable){
        require_("electron").remote.app.quit(0);
      }else{
        window.close();
      }
    }
    const accept = () => {
      console.log("accept");
      window.close();
      if(config.onaccept) config.onaccept();
    }
    self.on("mount", () => {
      jQuery(document).bind('keydown', 'ctrl+shift+r', () => {
        window.location.reload(true);
      });
      jQuery(document).bind('keydown', 'ctrl+shift+e', () => {
        require_("electron").remote.getCurrentWindow().toggleDevTools();
      });
      self.refs.window.refs.cancelbutton.addEventListener("click", cancel);
      self.refs.window.refs.acceptbutton.addEventListener("click", accept);
    });
  </script>
</rts-modal-window>